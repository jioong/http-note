# HTTP概述  
  
## 传输
  
`HTTP`使用的是**可靠的**数据传输协议，因此即使数据来自地球的另一端，它也能够确保数据在传输过程中不会被损坏或产生混乱。用户不用短信信息的完整性。  
客户端向服务端发送`HTTP`请求，服务器会在`HTTP`**响应**中会送所请求的数据。  
  
**资源**：  
`Web`服务器是`Web`资源的宿主。`Web`资源是`Web`内容的源头。资源**不一定**非得是静态文件。  
  
### 媒体类型
  
`HTTP`要给经过`Web`传输的对象带上`MIME`类型的数据格式**标签**。  
> 最初设计MIME(`Multipurpose Internet Mail Extension` 多用途因特网邮件扩展)是为了解决在不同的电子邮件系统之间搬移报文时存在的问题。    

当`Web`浏览器从服务器获取一个对象时，会查看相关的`MIME`类型，看看是否知道应该如何处理这个对象。  
  
`MIME`类型是一种**文本标记**，表示一种主要的对象类型和一个特定的子类型，中间由一条斜杠分割。  
* html格式的文本文档`text/html`  
* 普通的文本文档`text/plain`  
* ...  

### URI
  
服务器资源名称称为**统一资源标识符**。`URI`就像因特网上的邮政地址一样，在世界范围内**唯一标识**并定位信息资源。  
`URI`有两种形式:`URL, URN`。  
  
#### URL
  
**统一资源定位符**是资源标识最常见的形式。`URL`描述了一台特定服务器上某资源的特定位置，它用于说明如何从一个**精确，固定**的位置获取资源。大部分资源的标准格式：  
* `URL`访问资源所使用的协议类型，  
* 服务器因特网的地址，  
* 其余部分指定`Web`服务器上的某个资源。  

#### URN
  
**统一资源名**是作为特定内容的唯一名称使用，与目前的资源所在地无关。  
* 使用与位置无关的`URN`就可以将资源四处搬移。  
* 通过`URN`还可以用同一个名字通过多种网络协议来访问资源。  

`URN`仍处于**试验阶段**，还未大范围使用。  
  
### 事务
  
一个`HTTP`事务由一条(从服务端发往客户端)请求命令和一个(从服务端发回客户端)响应结果组成。这种通信是通过名为`HTTP`报文的格式化数据块进行的。  
  
1. 方法， `HTTP`支持的请求命令。每条`HTTP`请求报文都包含一个方法。该方法会告诉服务器要执行什么动作。  
	* `GET`  
	* `POST`  
	* `PUT`  
	* `DELETE`  
	* ...  
2. 状态码， 每条`HTTP`响应报文返回时都会携带一个状态码。状态码是一个三位数字的代码，告知客户端请求是否成功，或是否需要采取其他动作。  
	* 200， 返回正确。  
	* 302， 重定向。  
	* 404， 无法找到资源。  
	* ...  
  
### 报文
  
`HTTP`报文是由一行一行的简单字符串组成的。`HTTP`报文**都是纯文本**，不是二进制代码。  
`HTTP`报文包含三个部分：  
1. 起始行。  
报文的第一行就是起始行，在**请求报文**中用来说明要做些什么，在**响应报文**中说明出现了什么情况。  
2. 首部字段。  
起始行后面有**零个或多个**首部字段。每个首部字段都包含一个名字和一个值，为了便于解析，两者之间用**冒号**分割。**首部以一个空行结束。**  
3. 主体。  
空行之后是**可选的**报文主体，其中包含了所有类型的数据。**请求主体**中包含了要发送给`Web`服务器的数据。**响应主体**装载了要返回给客户端的数据。主体中可以包含任意的二进制数据。  
  
### 连接
  
1. `TCP/IP`  
`TCP`提供了：  
	* 无差错的数据传输，  
	* 按序传输(数据总是会按照发送的顺序到达)，  
	* 未分段的数据列(可以在任意时刻以任意尺寸将数据发送出去).  
只要建立了`TCP`连接，客户端和服务端之间的报文交换**就不会丢失，不会被破坏，不会在接收时出现错序。**  
  
### Web的结构组件
  
1. 代理， 位于客户端和服务端之间的`HTTP`中间实体。 
代理可以对请求和响应进行过滤。   
2. 缓存， `HTTP`的仓库，使常用的页面的副本可以保存在离客户端更近的地方。  
是一种特殊的`HTTP`代理服务器，可以将经过代理传送的文档复制保存起来。下一个请求同一文档的客户端就可以享受缓存的私有副本锁提供的服务了。  
3. 网关， 连接其他应用程序的特殊`Web`服务器。   
一种特殊的服务器，作为其他服务器的中间实体使用。通常用于将`HTTP`流量转换成其他协议。网关接受请求时就好像自己是资源的源端服务一样，客户端可能并不知道自己正在与一个网关进行通信。  
4. 隧道， 对`HTTP`通信报文进行盲转发的特殊代理。   
隧道`tunnel`是建立起来之后，就会在两条连接之间对原始数据进行**盲转发**的`HTTP`应用程序。
5. Agent代理， 发起自动`HTTP`请求的半智能`Web`客户端。  

